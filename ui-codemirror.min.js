/**
 * angular-ui-codemirror - This directive allows you to add CodeMirror to your textarea elements.
 * @version v0.1.0 - 2014-04-18
 * @link http://angular-ui.github.com
 * @license MIT
 */
"use strict";angular.module("ui.codemirror",[]).constant("uiCodemirrorConfig",{}).directive("uiCodemirror",["uiCodemirrorConfig",function(a){return{restrict:"EA",require:"?ngModel",priority:1,compile:function(b){if(angular.isUndefined(window.CodeMirror))throw new Error("ui-codemirror need CodeMirror to work... (o rly?)");var c=b.text(),d=new window.CodeMirror(function(a){angular.forEach(b.prop("attributes"),function(b){"ui-codemirror"===b.name?a.setAttribute("ui-codemirror-opts",b.textContent):a.setAttribute(b.name,b.textContent)}),b.parent().length<=0&&b.wrap("<div>"),b.replaceWith(a)},{value:c});return function(b,c,e,f){function g(a){for(var b in a)a.hasOwnProperty(b)&&d.setOption(b,a[b])}var h,i;h=a.codemirror||{},i=angular.extend({},h,b.$eval(e.uiCodemirror),b.$eval(e.uiCodemirrorOpts)),g(i),angular.isDefined(b.$eval(e.uiCodemirror))&&b.$watch(e.uiCodemirror,g,!0),d.on("change",function(a){var c=a.getValue();f&&c!==f.$viewValue&&(f.$setViewValue(c),b.$apply())}),f&&(f.$formatters.unshift(function(a){if(angular.isUndefined(a)||null===a)return"";if(angular.isObject(a)||angular.isArray(a))throw new Error("ui-codemirror cannot use an object or an array as a model");return a}),f.$render=function(){var a=f.$viewValue||"";d.setValue(a)}),e.uiRefresh&&b.$watch(e.uiRefresh,function(a,b){a!==b&&d.refresh()}),angular.isFunction(i.onLoad)&&i.onLoad(d)}}}}]),angular.module("ui.codemirror",[]).constant("uiCodemirrorConfig",{}).directive("uiCodemirror",["uiCodemirrorConfig",function(a){return{restrict:"EA",require:"?ngModel",priority:1,compile:function(b){if(angular.isUndefined(window.CodeMirror))throw new Error("ui-codemirror need CodeMirror to work... (o rly?)");var c=b.text();return function(d,e,f,g){function h(a){for(var b in a)a.hasOwnProperty(b)&&k.setOption(b,a[b])}var i,j,k=new window.CodeMirror(function(a){angular.forEach(b.prop("attributes"),function(b){"ui-codemirror"===b.name?a.setAttribute("ui-codemirror-opts",b.textContent):a.setAttribute(b.name,b.textContent)}),b.parent().length<=0&&e.append(a),e.replaceWith(a)},{value:c});i=a.codemirror||{},j=angular.extend({},i,d.$eval(f.uiCodemirror),d.$eval(f.uiCodemirrorOpts)),h(j),angular.isDefined(d.$eval(f.uiCodemirror))&&d.$watch(f.uiCodemirror,h,!0),k.on("change",function(a){var b=a.getValue();g&&b!==g.$viewValue&&g.$setViewValue(b),d.$$phase||d.$apply()}),g&&(g.$formatters.push(function(a){if(angular.isUndefined(a)||null===a)return"";if(angular.isObject(a)||angular.isArray(a))throw new Error("ui-codemirror cannot use an object or an array as a model");return a}),g.$render=function(){var a=g.$viewValue||"";k.setValue(a)}),f.uiRefresh&&d.$watch(f.uiRefresh,function(a,b){a!==b&&k.refresh()}),angular.isFunction(j.onLoad)&&j.onLoad(k)}}}}]),angular.module("ui.codemirror",[]).constant("uiCodemirrorConfig",{}).directive("uiCodemirror",["uiCodemirrorConfig",function(a){return{restrict:"EA",require:"?ngModel",priority:1,compile:function(b){if(angular.isUndefined(window.CodeMirror))throw new Error("ui-codemirror need CodeMirror to work... (o rly?)");var c=b.text();return function(b,d,e,f){function g(a){for(var b in a)a.hasOwnProperty(b)&&j.setOption(b,a[b])}var h,i,j=new window.CodeMirror(function(){d.append(cm_e1)},{value:c});h=a.codemirror||{},i=angular.extend({},h,b.$eval(e.uiCodemirror),b.$eval(e.uiCodemirrorOpts)),g(i),angular.isDefined(b.$eval(e.uiCodemirror))&&b.$watch(e.uiCodemirror,g,!0),j.on("change",function(a){var c=a.getValue();f&&c!==f.$viewValue&&f.$setViewValue(c),b.$$phase||b.$apply()}),f&&(f.$formatters.push(function(a){if(angular.isUndefined(a)||null===a)return"";if(angular.isObject(a)||angular.isArray(a))throw new Error("ui-codemirror cannot use an object or an array as a model");return a}),f.$render=function(){var a=f.$viewValue||"";j.setValue(a)}),e.uiRefresh&&b.$watch(e.uiRefresh,function(a,b){a!==b&&j.refresh()}),angular.isFunction(i.onLoad)&&i.onLoad(j)}}}}]);